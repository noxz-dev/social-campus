<template>
  <div
    v-if="['xl', 'lg', 'md'].includes(breakpoints.is)"
    class="md:flex fixed top-14 h-screen shadow-right transition-all w-14 sm:w-14 md:w-14 lg:w-14 xl:w-44 dark:bg-dark700"
  >
    <div class="mt-16 w-full flex justify-center flex-col self-start items-center">
      <div
        class="flex justify-start items-center p-1.5 rounded-lg w-5/6 h-12 cursor-pointer mb-4"
        :class="{ 'bg-gray-700': homeActive }"
        @click="handleRouting('home')"
      >
        <div>
          <svg v-if="!homeActive" viewBox="0 0 24 24" fill="none" class="h-8 text-white" xmlns="http://www.w3.org/2000/svg">
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M20.3394 7.65929C21.0094 8.17829 21.4204 8.94929 21.4904 9.78829L21.5004 9.98929V18.0983C21.5004 20.1883 19.8494 21.8883 17.7804 21.9983H15.7904C14.8394 21.9793 14.0704 21.2393 14.0004 20.3093L13.9904 20.1683V17.3093C13.9904 16.9983 13.7594 16.7393 13.4504 16.6883L13.3604 16.6783H10.6894C10.3704 16.6883 10.1104 16.9183 10.0704 17.2183L10.0604 17.3093V20.1593C10.0604 20.2183 10.0494 20.2883 10.0404 20.3383L10.0304 20.3593L10.0194 20.4283C9.9004 21.2793 9.2004 21.9283 8.3304 21.9893L8.2004 21.9983H6.4104C4.3204 21.9983 2.6104 20.3593 2.5004 18.2983V9.98929C2.5094 9.13829 2.8804 8.34829 3.5004 7.79829L9.7304 2.78829C11.0004 1.77929 12.7804 1.73929 14.0894 2.66829L14.2504 2.78829L20.3394 7.65929ZM20.0994 18.2583L20.1104 18.0983V9.99829C20.0994 9.56929 19.9204 9.16829 19.6104 8.86929L19.4804 8.75829L13.3804 3.87829C12.6204 3.26829 11.5404 3.23929 10.7404 3.76829L10.5894 3.87829L4.5094 8.77929C4.1604 9.03829 3.9504 9.42829 3.9004 9.83829L3.8894 9.99829V18.0983C3.8894 19.4283 4.9294 20.5183 6.2504 20.5983H8.2004C8.4204 20.5983 8.6104 20.4493 8.6394 20.2393L8.6604 20.0593L8.6704 20.0083V17.3093C8.6704 16.2393 9.4904 15.3693 10.5404 15.2883H13.3604C14.4294 15.2883 15.2994 16.1093 15.3804 17.1593V20.1683C15.3804 20.3783 15.5304 20.5593 15.7304 20.5983H17.5894C18.9294 20.5983 20.0194 19.5693 20.0994 18.2583Z"
              fill="white"
            />
          </svg>
          <svg v-else viewBox="0 0 24 24" fill="none" class="h-8 text-white" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M9.13478 20.7733V17.7156C9.13478 16.9351 9.77217 16.3023 10.5584 16.3023H13.4326C13.8102 16.3023 14.1723 16.4512 14.4393 16.7163C14.7063 16.9813 14.8563 17.3408 14.8563 17.7156V20.7733C14.8539 21.0978 14.9821 21.4099 15.2124 21.6402C15.4427 21.8705 15.7561 22 16.0829 22H18.0438C18.9596 22.0023 19.8388 21.6428 20.4872 21.0008C21.1356 20.3588 21.5 19.487 21.5 18.5778V9.86686C21.5 9.13246 21.1721 8.43584 20.6046 7.96467L13.934 2.67587C12.7737 1.74856 11.1111 1.7785 9.98539 2.74698L3.46701 7.96467C2.87274 8.42195 2.51755 9.12064 2.5 9.86686V18.5689C2.5 20.4639 4.04738 22 5.95617 22H7.87229C8.55123 22 9.103 21.4562 9.10792 20.7822L9.13478 20.7733Z"
              fill="white"
            />
          </svg>
        </div>
        <div v-if="breakpoints.is === 'xl'" class="dark:text-white ml-4 font-medium text-lg">Home</div>
      </div>

      <div
        class="flex justify-start items-center p-1.5 rounded-lg w-5/6 h-12 cursor-pointer"
        :class="{ 'bg-gray-700': groupsActive }"
        @click="handleRouting('groups')"
      >
        <div>
          <svg v-if="!groupsActive" viewBox="0 0 24 24" fill="none" class="h-8 text-white" xmlns="http://www.w3.org/2000/svg">
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M11.9378 3.4375C9.38221 3.4375 7.32951 5.4902 7.32951 8.04575C7.32951 10.602 9.38204 12.6549 11.9378 12.6549C14.4935 12.6549 16.546 10.602 16.546 8.04575C16.546 5.4902 14.4933 3.4375 11.9378 3.4375ZM11.9378 4.9375C13.6649 4.9375 15.046 6.31863 15.046 8.04575C15.046 9.77367 13.665 11.1549 11.9378 11.1549C10.2105 11.1549 8.82951 9.77367 8.82951 8.04575C8.82951 6.31863 10.2106 4.9375 11.9378 4.9375ZM6.28999 4.37937C6.7042 4.37937 7.03999 4.71516 7.03999 5.12937C7.03999 5.54359 6.7042 5.87937 6.28999 5.87937C5.10162 5.87937 4.13782 6.84275 4.13782 8.03062C4.13782 9.2185 5.10162 10.1819 6.28999 10.1819C6.7042 10.1819 7.03999 10.5177 7.03999 10.9319C7.03999 11.3461 6.7042 11.6819 6.28999 11.6819C4.27334 11.6819 2.63782 10.0471 2.63782 8.03062C2.63782 6.01418 4.27334 4.37937 6.28999 4.37937ZM21.247 8.03062C21.247 6.01418 19.6115 4.37937 17.5949 4.37937C17.1807 4.37937 16.8449 4.71516 16.8449 5.12937C16.8449 5.54359 17.1807 5.87937 17.5949 5.87937C18.7832 5.87937 19.747 6.84275 19.747 8.03062C19.747 9.2185 18.7832 10.1819 17.5949 10.1819C17.1807 10.1819 16.8449 10.5177 16.8449 10.9319C16.8449 11.3461 17.1807 11.6819 17.5949 11.6819C19.6115 11.6819 21.247 10.0471 21.247 8.03062ZM20.4958 13.555C20.0156 13.4466 19.5025 13.3725 18.9807 13.3365C18.5675 13.308 18.2094 13.6199 18.1809 14.0331C18.1524 14.4464 18.4642 14.8045 18.8775 14.833C19.324 14.8638 19.7616 14.9269 20.1871 15.0227C20.8488 15.1525 21.2801 15.3678 21.3872 15.5921C21.4677 15.7615 21.4677 15.9606 21.3864 16.132C21.2808 16.3541 20.853 16.5682 20.2007 16.7024C19.795 16.7858 19.5337 17.1823 19.6171 17.5881C19.7006 17.9938 20.0971 18.2551 20.5028 18.1716C21.581 17.9499 22.3708 17.5546 22.7414 16.7756C23.0161 16.1964 23.0161 15.5247 22.7414 14.947C22.3682 14.1651 21.5648 13.7643 20.4958 13.555ZM5.704 14.0331C5.67551 13.6199 5.31741 13.308 4.90418 13.3365C4.38239 13.3725 3.86922 13.4466 3.36845 13.5593L3.162 13.603C2.21438 13.8195 1.49143 14.2174 1.14442 14.9469C0.868561 15.5241 0.868561 16.197 1.14471 16.7762C1.51363 17.5544 2.30341 17.9498 3.38205 18.1716C3.78777 18.2551 4.18431 17.9938 4.26774 17.5881C4.35117 17.1823 4.0899 16.7858 3.68418 16.7024C3.03209 16.5683 2.60472 16.3543 2.49939 16.1321C2.41734 15.96 2.41734 15.7621 2.49838 15.5925C2.60537 15.3676 3.03633 15.1525 3.67721 15.027L4.01044 14.9588C4.34262 14.8974 4.67249 14.8561 5.00738 14.833C5.42062 14.8045 5.7325 14.4464 5.704 14.0331ZM5.16709 17.1845C5.16709 14.7986 7.63503 13.9595 11.9378 13.9595L12.2426 13.961C16.3655 13.9997 18.7084 14.8407 18.7084 17.1671C18.7084 19.4388 16.4689 20.3087 12.5397 20.3863L11.9378 20.3921C7.62516 20.3921 5.16709 19.5678 5.16709 17.1845ZM17.2084 17.1671C17.2084 16.0566 15.4279 15.4595 11.9378 15.4595C8.45105 15.4595 6.66709 16.0661 6.66709 17.1845C6.66709 18.2952 8.44707 18.8921 11.9378 18.8921C15.4234 18.8921 17.2084 18.2851 17.2084 17.1671Z"
              fill="white"
            />
          </svg>
          <svg
            class="h-8 fill-white"
            viewBox="0 0 24 24"
            version="1.1"
            xmlns="http://www.w3.org/2000/svg"
            xmlns:xlink="http://www.w3.org/1999/xlink"
            v-else
          >
            <g id="Iconly/Bulk/3-User" stroke="none" stroke-width="1" fill-rule="evenodd">
              <g id="3-User" transform="translate(1.000000, 4.000000)" fill-rule="nonzero">
                <path
                  d="M10.9490292,10.5399284 C7.49904253,10.5399284 4.58808829,11.1036765 4.58808829,13.27942 C4.58808829,15.4560641 7.51784599,16 10.9490292,16 C14.3990159,16 17.3099701,15.4362519 17.3099701,13.2605084 C17.3099701,11.0838643 14.3802124,10.5399284 10.9490292,10.5399284"
                  id="Fill-1"
                ></path>
                <path
                  d="M10.9490292,8.46702839 C13.2851349,8.46702839 15.1583174,6.58306504 15.1583174,4.2335142 C15.1583174,1.88306279 13.2851349,7.10542736e-15 10.9490292,7.10542736e-15 C8.61292351,7.10542736e-15 6.73974103,1.88306279 6.73974103,4.2335142 C6.73974103,6.58306504 8.61292351,8.46702839 10.9490292,8.46702839"
                  id="Fill-3"
                  opacity="0.600000006"
                ></path>
                <path
                  d="M20.087957,5.21926289 C20.6923539,2.84179481 18.9203519,0.706576311 16.663937,0.706576311 C16.4185967,0.706576311 16.1840012,0.733592994 15.9547781,0.779521354 C15.9243344,0.786725803 15.8903091,0.802035257 15.872401,0.82905194 C15.8518068,0.863273071 15.8670286,0.909201432 15.8894137,0.938919783 C16.5672336,1.89531035 16.9567337,3.05972938 16.9567337,4.30970124 C16.9567337,5.50744084 16.599468,6.6241304 15.9726861,7.55080262 C15.9082172,7.64626157 15.9655229,7.77504109 16.0792391,7.79485332 C16.2368299,7.82277056 16.3980024,7.83717946 16.5627565,7.84168224 C18.2058205,7.88490893 19.6805488,6.82135218 20.087957,5.21926289"
                  id="Fill-6"
                  opacity="0.600000006"
                ></path>
                <path
                  d="M21.8092792,10.8169395 C21.5084239,10.1721413 20.7822523,9.72996826 19.6782208,9.51293424 C19.1570964,9.38505527 17.7468371,9.20494405 16.4350721,9.22925907 C16.4153733,9.23196074 16.4046284,9.24546908 16.4028376,9.25447464 C16.4001514,9.26708242 16.4055238,9.28869577 16.4314905,9.30220411 C17.0376781,9.6038904 19.3809471,10.9160006 19.0863596,13.6834095 C19.0738239,13.8031835 19.169632,13.9067474 19.2887206,13.8887363 C19.8653599,13.8058851 21.3490422,13.4852872 21.8092792,12.4865705 C22.0635736,11.9588446 22.0635736,11.3455659 21.8092792,10.8169395"
                  id="Fill-8"
                ></path>
                <path
                  d="M6.04481898,0.779791521 C5.81649128,0.732962604 5.58100037,0.706846478 5.33566002,0.706846478 C3.07924518,0.706846478 1.3072432,2.84206498 1.91253543,5.21953306 C2.31904827,6.82162235 3.79377654,7.8851791 5.43684053,7.84195241 C5.60159463,7.83744963 5.76366252,7.82214017 5.920358,7.79512349 C6.03407414,7.77531125 6.09137992,7.64653173 6.02691092,7.55107279 C5.40012902,6.62350001 5.04286334,5.50771101 5.04286334,4.30997141 C5.04286334,3.05909899 5.43325892,1.89467996 6.11107878,0.93918995 C6.13256844,0.909471599 6.14868569,0.863543238 6.12719603,0.829322106 C6.10928797,0.801404868 6.07615807,0.78699597 6.04481898,0.779791521"
                  id="Fill-11"
                  opacity="0.600000006"
                ></path>
                <path
                  d="M2.3215554,9.51266407 C1.21752385,9.72969809 0.492247644,10.1718711 0.191392331,10.8166693 C-0.0637974436,11.3452957 -0.0637974436,11.9585744 0.191392331,12.4872008 C0.651629328,13.485017 2.13531163,13.8065155 2.71195098,13.8884661 C2.83103954,13.9064772 2.92595223,13.8038139 2.91341659,13.6831393 C2.6188291,10.916631 4.96209801,9.60452079 5.56918105,9.3028345 C5.59425233,9.2884256 5.59962474,9.26771281 5.59693854,9.25420447 C5.59514773,9.24519891 5.5852983,9.23169057 5.56559944,9.22988946 C4.25293906,9.20467389 2.84357518,9.3847851 2.3215554,9.51266407"
                  id="Fill-13"
                ></path>
              </g>
            </g>
          </svg>
        </div>
        <div v-if="breakpoints.is === 'xl'" class="dark:text-white ml-4 font-medium text-lg">Groups</div>
      </div>
    </div>
  </div>
  <div v-else class="fixed h-16 w-full bottom-0 bg-dark600 md:hidden">
    <div id="navContent" class="h-16 w-full flex flex-row items-center md:hidden">
      <IconLink v-for="route in routes" :key="route.to" :to="route.to" :name="route.name" class="md:my-2">
        <span v-html="route.icon"></span>
      </IconLink>
    </div>
  </div>
</template>

<script lang="ts">
import breakpoints from '../../_helpers/breakpoints';
import { defineComponent, onMounted, ref } from 'vue';
import { useRouter } from 'vue-router';
import IconLink from './IconLink.vue';

export default defineComponent({
  components: { IconLink },
  setup() {
    const router = useRouter();
    const show = ref(true);
    const homeActive = ref(true);
    const groupsActive = ref(false);

    const routes = [
      {
        to: '/home',
        name: 'Home',
        icon: `<svg width="24" height="24"  viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path class="fill-gray100" opacity="0.4" d="M16.0755 2H19.4615C20.8637 2 22 3.14585 22 4.55996V7.97452C22 9.38864 20.8637 10.5345 19.4615 10.5345H16.0755C14.6732 10.5345 13.537 9.38864 13.537 7.97452V4.55996C13.537 3.14585 14.6732 2 16.0755 2Z" fill="#200E32"/>
                <path class="fill-gray100" fill-rule="evenodd" clip-rule="evenodd" d="M4.53852 2H7.92449C9.32676 2 10.463 3.14585 10.463 4.55996V7.97452C10.463 9.38864 9.32676 10.5345 7.92449 10.5345H4.53852C3.13626 10.5345 2 9.38864 2 7.97452V4.55996C2 3.14585 3.13626 2 4.53852 2ZM4.53852 13.4655H7.92449C9.32676 13.4655 10.463 14.6114 10.463 16.0255V19.44C10.463 20.8532 9.32676 22 7.92449 22H4.53852C3.13626 22 2 20.8532 2 19.44V16.0255C2 14.6114 3.13626 13.4655 4.53852 13.4655ZM19.4615 13.4655H16.0755C14.6732 13.4655 13.537 14.6114 13.537 16.0255V19.44C13.537 20.8532 14.6732 22 16.0755 22H19.4615C20.8637 22 22 20.8532 22 19.44V16.0255C22 14.6114 20.8637 13.4655 19.4615 13.4655Z" fill="#200E32"/>
              </svg>
              `,
      },
      {
        to: '/groups',
        name: 'Gruppen',
        icon: `<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path class="fill-gray100" d="M11.949 14.5399C8.49903 14.5399 5.58807 15.1037 5.58807 17.2794C5.58807 19.4561 8.51783 20 11.949 20C15.399 20 18.31 19.4363 18.31 17.2605C18.31 15.0839 15.3802 14.5399 11.949 14.5399Z" fill="#200E32"/>
                <path class="fill-gray100" opacity="0.4" d="M11.949 12.467C14.2851 12.467 16.1583 10.5831 16.1583 8.23351C16.1583 5.88306 14.2851 4 11.949 4C9.61293 4 7.73975 5.88306 7.73975 8.23351C7.73975 10.5831 9.61293 12.467 11.949 12.467Z" fill="#200E32"/>
                <path class="fill-gray100" opacity="0.4" d="M21.0879 9.21926C21.6923 6.84179 19.9203 4.70657 17.6639 4.70657C17.4186 4.70657 17.184 4.73359 16.9548 4.77952C16.9243 4.78672 16.8903 4.80203 16.8724 4.82905C16.8518 4.86327 16.867 4.9092 16.8894 4.93892C17.5672 5.89531 17.9567 7.05973 17.9567 8.3097C17.9567 9.50744 17.5995 10.6241 16.9727 11.5508C16.9082 11.6463 16.9655 11.775 17.0792 11.7949C17.2368 11.8228 17.398 11.8372 17.5627 11.8417C19.2058 11.8849 20.6805 10.8213 21.0879 9.21926Z" fill="#200E32"/>
                <path class="fill-gray100" class="fill-gray-100" d="M22.8093 14.8169C22.5084 14.1721 21.7823 13.73 20.6782 13.5129C20.1571 13.3851 18.7468 13.2049 17.4351 13.2293C17.4154 13.232 17.4046 13.2455 17.4028 13.2545C17.4002 13.2671 17.4055 13.2887 17.4315 13.3022C18.0377 13.6039 20.381 14.916 20.0864 17.6834C20.0738 17.8032 20.1696 17.9068 20.2887 17.8887C20.8654 17.8059 22.349 17.4853 22.8093 16.4866C23.0636 15.9588 23.0636 15.3456 22.8093 14.8169Z" fill="#200E32"/>
                <path class="fill-gray100" opacity="0.4" d="M7.04483 4.77979C6.8165 4.73296 6.58101 4.70685 6.33567 4.70685C4.07926 4.70685 2.30726 6.84207 2.91255 9.21953C3.31906 10.8216 4.79379 11.8852 6.43685 11.842C6.60161 11.8375 6.76368 11.8221 6.92037 11.7951C7.03409 11.7753 7.09139 11.6465 7.02692 11.5511C6.40014 10.6235 6.04288 9.50771 6.04288 8.30997C6.04288 7.0591 6.43327 5.89468 7.11109 4.93919C7.13258 4.90947 7.1487 4.86354 7.12721 4.82932C7.1093 4.80141 7.07617 4.787 7.04483 4.77979Z" fill="#200E32"/>
                <path class="fill-gray100" d="M3.32156 13.5127C2.21752 13.7297 1.49225 14.1719 1.19139 14.8167C0.936203 15.3453 0.936203 15.9586 1.19139 16.4872C1.65163 17.485 3.13531 17.8065 3.71195 17.8885C3.83104 17.9065 3.92595 17.8038 3.91342 17.6831C3.61883 14.9166 5.9621 13.6045 6.56918 13.3028C6.59425 13.2884 6.59962 13.2677 6.59694 13.2542C6.59515 13.2452 6.5853 13.2317 6.5656 13.2299C5.25294 13.2047 3.84358 13.3848 3.32156 13.5127Z" fill="#200E32"/>
              </svg>
            `,
      },
    ];

    onMounted(() => {
      console.log(breakpoints.is);
    });

    const handleRouting = (state: string) => {
      switch (state) {
        case 'home':
          router.push('/home');
          homeActive.value = true;
          groupsActive.value = false;
          break;
        case 'groups':
          router.push('/groups');
          homeActive.value = false;
          groupsActive.value = true;
          break;
      }
    };
    return { show, homeActive, groupsActive, handleRouting, breakpoints, routes };
  },
});
</script>

<style></style>
